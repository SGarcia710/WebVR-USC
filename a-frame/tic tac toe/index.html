<html>
    <head>
        <title>Tic tac toe</title>
        <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.2.0/dist/aframe-extras.js"></script>
        <script>
            var cont = 0;

            AFRAME.registerComponent('id', {
                init: function () {
                    var el = this.el;  // <a-box>

                    el.addEventListener('click', function () {
                        if(el.getAttribute('material').color == "#E5CAEB"){
                            el.setAttribute('color', "red");
                            if(cont < 5){
                                var ran;

                                do{
                                    ran = Math.floor((Math.random() * 9) + 1);
                                }while("#E5CAEB".localeCompare(document.getElementById(ran).getAttribute('material').color) != 0);
                                document.getElementById(ran).setAttribute('color', "blue");
                                console.log(cont);
                                cont++;
                            }
                        }
                    })
                }
            });
        </script>
    </head>
    <body>
        <a-scene>
            <a-assets>
                <img id="groundTexture" src="img/suelo.jpg">
                <img id="skyTexture" src="img/fondo.jpg">
            </a-assets>
            <a-box position="-2 3.75 -3" color="#E5CAEB" shadow cursor-listener id="1"></a-box>
            <a-box position="-0.5 3.75 -3" color="#E5CAEB" shadow cursor-listener id="2"></a-box>
            <a-box position="1 3.75 -3" color="#E5CAEB" shadow cursor-listener id="3"></a-box>
            <a-box position="-2 2.25 -3" color="#E5CAEB" shadow cursor-listener id="4"></a-box>
            <a-box position="-0.5 2.25 -3" color="#E5CAEB" shadow cursor-listener id="5"></a-box>
            <a-box position="1 2.25 -3" color="#E5CAEB" shadow cursor-listener id="6"></a-box>
            <a-box position="-2 0.75 -3" color="#E5CAEB" shadow cursor-listener id= "7"></a-box>
            <a-box position="-0.5 0.75 -3" color="#E5CAEB" shadow cursor-listener id="8"></a-box>
            <a-box position="1 0.75 -3" color="#E5CAEB" shadow cursor-listener id="9"></a-box>

            <a-camera position="0 1 2"><a-cursor></a-cursor></a-camera>

            <a-entity id="sky" geometry="primitive: sphere; thetaLength: 90; radius: 30" 
            material="side: back; height: 2048; width: 2048; src: #skyTexture; shader: flat"></a-entity>
            <a-entity id="ground" geometry="primitive: plane; height: 100; width: 100"
            material="src: #groundTexture" rotation="-90 0 0"></a-entity>
        </a-scene>
    </body>
</html>